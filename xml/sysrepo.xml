<?xml version="1.0" encoding="UTF-8"?>
<KLISH
	xmlns="http://clish.sourceforge.net/XMLSchema"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://clish.sourceforge.net/XMLSchema http://clish.sourceforge.net/XMLSchema/clish.xsd">

<PLUGIN name="sysrepo">
	JuniperLikeShow = y
	FirstKeyWithStatement = n
	MultiKeysWithStatement = y
	Colorize = y
</PLUGIN>


<PTYPE name="PLINE_SET">
	<COMPL>
		<ACTION sym="srp_compl@sysrepo"/>
	</COMPL>
	<HELP>
		<ACTION sym="srp_help@sysrepo"/>
	</HELP>
	<ACTION sym="PLINE_SET@sysrepo"/>
</PTYPE>

<PTYPE name="PLINE_DEL">
	<COMPL>
		<ACTION sym="srp_compl@sysrepo"/>
	</COMPL>
	<HELP>
		<ACTION sym="srp_help@sysrepo"/>
	</HELP>
	<ACTION sym="PLINE_DEL@sysrepo"/>
</PTYPE>

<PTYPE name="PLINE_EDIT">
	<COMPL>
		<ACTION sym="srp_compl@sysrepo"/>
	</COMPL>
	<HELP>
		<ACTION sym="srp_help@sysrepo"/>
	</HELP>
	<ACTION sym="PLINE_EDIT@sysrepo"/>
</PTYPE>

<PTYPE name="PLINE_INSERT_FROM">
	<COMPL>
		<ACTION sym="srp_compl@sysrepo"/>
	</COMPL>
	<HELP>
		<ACTION sym="srp_help@sysrepo"/>
	</HELP>
	<ACTION sym="PLINE_INSERT_FROM@sysrepo"/>
</PTYPE>

<PTYPE name="PLINE_INSERT_TO">
	<COMPL>
		<ACTION sym="srp_compl_insert_to@sysrepo"/>
	</COMPL>
	<HELP>
		<ACTION sym="srp_help_insert_to@sysrepo"/>
	</HELP>
	<ACTION sym="PLINE_INSERT_TO@sysrepo"/>
</PTYPE>


<VIEW name="main">

	<COMMAND name="configure" help="Configure system">
		<PTYPE ref="/COMMAND"/>
		<ACTION sym="nav">replace sysrepo</ACTION>
	</COMMAND>

	<COMMAND name="show" help="Show" mode="switch">
		<PTYPE ref="/COMMAND"/>
		<COMMAND name="running" help="Show running-config">
			<PTYPE ref="/COMMAND"/>
			<ACTION sym="srp_show_running@sysrepo"/>
		</COMMAND>
	</COMMAND>

</VIEW>


<VIEW name="sysrepo">

	<PROMPT>
		<ACTION sym="srp_prompt_edit_path@sysrepo"/>
		<ACTION sym="prompt">%u@%h# </ACTION>
	</PROMPT>

	<COMMAND name="exit" help="Exit configuration mode or level up">
		<PTYPE ref="/COMMAND"/>
		<ACTION sym="srp_up@sysrepo"/>
		<ACTION sym="nav" exec_on="fail">replace main</ACTION>
	</COMMAND>

	<COMMAND name="do" help="Execute operational mode command">
		<PTYPE ref="/COMMAND"/>
		<VIEW name="operational" ref="/main"/>
	</COMMAND>

	<COMMAND name="set" help="Set data to database">
		<PTYPE ref="/COMMAND"/>
		<PARAM name="path" max="100">
			<PTYPE ref="/PLINE_SET"/>
		</PARAM>
		<ACTION sym="srp_set@sysrepo"/>
	</COMMAND>

	<COMMAND name="del" help="Delete data from database">
		<PTYPE ref="/COMMAND"/>
		<PARAM name="path" max="100">
			<PTYPE ref="/PLINE_DEL"/>
		</PARAM>
		<ACTION sym="srp_del@sysrepo"/>
	</COMMAND>

	<COMMAND name="edit" help="Change hierarchy level">
		<PTYPE ref="/COMMAND"/>
		<PARAM name="path" max="100">
			<PTYPE ref="/PLINE_EDIT"/>
		</PARAM>
		<ACTION sym="srp_edit@sysrepo"/>
	</COMMAND>

	<COMMAND name="top" help="Change hierarchy level to the top one">
		<PTYPE ref="/COMMAND"/>
		<ACTION sym="srp_top@sysrepo"/>
	</COMMAND>

	<COMMAND name="up" help="Up hierarchy level">
		<PTYPE ref="/COMMAND"/>
		<ACTION sym="srp_up@sysrepo"/>
	</COMMAND>

	<COMMAND name="insert" help="Insert statement to specified position">
		<PTYPE ref="/COMMAND"/>
		<PARAM name="from_path" max="100">
			<PTYPE ref="/PLINE_INSERT_FROM"/>
		</PARAM>
		<SWITCH name="position">
			<COMMAND name="first" help="First position">
				<PTYPE ref="/COMMAND"/>
			</COMMAND>
			<COMMAND name="last" help="Last position">
				<PTYPE ref="/COMMAND"/>
			</COMMAND>
			<SEQ name="relative_block">
				<SWITCH name="relative">
					<COMMAND name="before" help="Before specified element">
						<PTYPE ref="/COMMAND"/>
					</COMMAND>
					<COMMAND name="after" help="After specified element">
						<PTYPE ref="/COMMAND"/>
					</COMMAND>
				</SWITCH>
				<PARAM name="to_path" max="100">
					<PTYPE ref="/PLINE_INSERT_TO"/>
				</PARAM>
			</SEQ>
		</SWITCH>
		<ACTION sym="srp_insert@sysrepo"/>
	</COMMAND>

	<COMMAND name="commit" help="Commit data to running-config">
		<PTYPE ref="/COMMAND"/>
		<ACTION sym="srp_commit@sysrepo"/>
	</COMMAND>

	<COMMAND name="check" help="Verify the candidate configuration">
		<PTYPE ref="/COMMAND"/>
		<ACTION sym="srp_verify@sysrepo"/>
	</COMMAND>

	<COMMAND name="rollback" help="Rollback to running-config">
		<PTYPE ref="/COMMAND"/>
		<ACTION sym="srp_rollback@sysrepo"/>
	</COMMAND>

	<COMMAND name="show" help="Show data hierarchy">
		<PTYPE ref="/COMMAND"/>
		<PARAM name="path" min="0" max="100">
			<PTYPE ref="/PLINE_EDIT"/>
		</PARAM>
		<ACTION sym="srp_show@sysrepo"/>
	</COMMAND>

	<COMMAND name="diff" help="Show diff to running-config">
		<PTYPE ref="/COMMAND"/>
		<PARAM name="path" min="0" max="100">
			<PTYPE ref="/PLINE_EDIT"/>
		</PARAM>
		<ACTION sym="srp_diff@sysrepo"/>
	</COMMAND>

<!--
	<COMMAND name="deactivate" help="Deactivate statement">
		<PTYPE ref="/COMMAND"/>
		<PARAM name="path" max="100">
			<PTYPE ref="/PLINE_DEL"/>
		</PARAM>
		<ACTION sym="srp_deactivate@sysrepo"/>
	</COMMAND>
-->

</VIEW>

</KLISH>
